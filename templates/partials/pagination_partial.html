{% load static %}

<nav class="pagination justify-content-center">
    <ul class="pagination__wrapper d-flex align-items-center justify-content-center">
        <!-- Кнопка "Назад", якщо є попередня сторінка -->
        {% if products.has_previous %}
            <li class="pagination__list">
                <a href="?page={{ products.previous_page_number }}{% if query %}&query={{ query }}{% endif %}"
                   class="pagination__item--arrow link">
                    <img src="{% static '/src/assets/img/icon/left_arrow.svg' %}"
                         alt="left arrow">
                </a>
            </li>
        {% endif %}

        <!-- Список сторінок: числа та пропуски ('...') -->
        {% for p in pages_to_display %}
            {% if p == '...' %}
                <li class="pagination__list">
                    <span class="pagination__item">...</span>
                </li>
            {% elif p == products.number %}
                <li class="pagination__list">
                    <span class="pagination__item pagination__item--current">{{ p }}</span>
                </li>
            {% else %}
                <li class="pagination__list">
                    <a href="?page={{ p }}{% if query %}&query={{ query }}{% endif %}"
                       class="pagination__item link">{{ p }}</a>
                </li>
            {% endif %}
        {% endfor %}

        <!-- Кнопка "Вперед", якщо є наступна сторінка -->
        {% if products.has_next %}
            <li class="pagination__list">
                <a href="?page={{ products.next_page_number }}{% if query %}&query={{ query }}{% endif %}"
                   class="pagination__item--arrow link">
                    <img src="{% static '/src/assets/img/icon/right_arrow.svg' %}"
                         alt="right arrow">
                </a>
            </li>
        {% endif %}
    </ul>
</nav>
